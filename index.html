<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Bitcoin Wire</title>
<link rel="stylesheet" href="styles.css" />
<style>
  /* WITHOUT THIS CSS, BUTTONS ARE INVISIBLE */
  #pagination { display: flex; justify-content: center; align-items: center; gap: 20px; padding: 50px 0; width: 100%; }
  #pagination button { background: #333; border: 1px solid #444; color: white; padding: 12px 24px; cursor: pointer; font-weight: bold; border-radius: 4px; }
  #pagination button:disabled { opacity: 0.2; cursor: not-allowed; }
  #page-info { color: #f7931a; font-family: sans-serif; font-weight: bold; }
  .game-link { display: inline-block; padding: 8px 16px; background: #f7931a; color: #fff; text-decoration: none; border-radius: 4px; }
</style>
</head>
<body>
<header>
  <h1>BITCOIN WIRE</h1>
  <p id="updated">Updated</p>
  <a href="roll.html" class="game-link" id="lucky-roll-btn">ðŸŽ° PLAY LUCKY ROLL</a>
</header>

<main id="app" class="grid"></main>

<div id="pagination">
  <button id="prev-btn">Previous</button>
  <span id="page-info"></span>
  <button id="next-btn">Next</button>
</div>

<script type="module">
import { paginateNews } from './scripts/paginate_news.js';

// Initialize with the path where the GitHub Action moves the file
paginateNews({
  jsonPath: './data/news.json', 
  articlesPerSection: 10,
  sections: 3,
  updatedElemId: 'updated',
  appElemId: 'app',
  prevBtnId: 'prev-btn',
  nextBtnId: 'next-btn',
  pageInfoId: 'page-info'
});
</script>

<script>
    /* LUCKY ROLL COOLDOWN SYNC */
    function syncRoll() {
        const btn = document.getElementById('lucky-roll-btn');
        const expiry = localStorage.getItem('rollCooldown');
        if (expiry && Date.now() < parseInt(expiry)) {
            btn.style.opacity = "0.5";
            btn.style.pointerEvents = "none";
            btn.innerText = "ðŸŽ° LOCKED";
        } else {
            btn.style.opacity = "1";
            btn.style.pointerEvents = "auto";
            btn.innerText = "ðŸŽ° PLAY LUCKY ROLL";
        }
    }
    window.addEventListener('load', syncRoll);
</script>
</body>
</html>